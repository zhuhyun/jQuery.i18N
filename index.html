<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>多语言</title>
	<style type="text/css">

	</style>
</head>
<body>
	<div id="content">
		<select name="" id="lang">
			<option checked value="zh">中文</option>
			<option value=" ">English</option>
		</select>
		<div>
			<label id="label_username"></label>
			<input type="text" id="username" />
		</div>
		<div>
			<label id="label_password"></label>
			<input type="text" id="password" />
		</div>
		<button type="button" id="button_login"></button>
	</div>

	<script type="text/javascript" src="./js/jquery-3.3.1.js"></script>
	<script type="text/javascript" src="./js/jquery.i18n.properties-1.0.9.js"></script>
	<script>
        var lang=sessionStorage.getItem("lang");
        if (lang === null) {
            lang='zh';
        }
        loadProperties(lang);
        $("#lang").val(lang);
        function loadProperties(types){
            jQuery.i18n.properties({
                name: 'strings',
                path: '/JQuery/i18n/',
                mode: 'map',
                language: types,
                cache: false,
                encoding: 'UTF-8',
                callback: function() {
                    $('#button_login').html($.i18n.prop('Login'));
                    $('#label_username').html($.i18n.prop('UserName'));
                    $('#label_password').html($.i18n.prop('Password'));
                }
            })
        };
        $(document).ready(function(){
            $("#lang").on('change',function(){
                sessionStorage.setItem("lang",$(this).val());
                loadProperties($(this).val());
            });
        });

	</script>
</body>
</html>
